

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Power Implementation (48V Central Supply) &mdash; ESP32 Ma Bell Gateway 1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=edc13519" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=f2a433a1"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Firmware" href="../firmware/index.html" />
    <link rel="prev" title="ESP32 Pin Assignments" href="pin-assignments.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            ESP32 Ma Bell Gateway
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../standards.html">Telephone Service Standards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../historical-perspective.html">The Bell System Blueprint</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../solution-design/index.html">Solution Design</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Implementation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../bom.html">Bill of Materials</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Circuit Implementation</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="line-interface-hc5504b.html">Line Interface: HC-5504B SLIC</a></li>
<li class="toctree-l3"><a class="reference internal" href="pin-assignments.html">ESP32 Pin Assignments</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Power Implementation (48V Central Supply)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#power-architecture">Power Architecture</a></li>
<li class="toctree-l4"><a class="reference internal" href="#step-by-step-power-flow">Step-by-Step Power Flow</a></li>
<li class="toctree-l4"><a class="reference internal" href="#power-rail-table">Power Rail Table</a></li>
<li class="toctree-l4"><a class="reference internal" href="#component-notes">Component Notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#design-considerations">Design Considerations</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../firmware/index.html">Firmware</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pcb/index.html">PCB Design &amp; Assembly</a></li>
<li class="toctree-l2"><a class="reference internal" href="../enclosure/index.html">Enclosure</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../usage.html">User Guide</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">ESP32 Ma Bell Gateway</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Implementation</a></li>
          <li class="breadcrumb-item"><a href="index.html">Circuit Implementation</a></li>
      <li class="breadcrumb-item active">Power Implementation (48V Central Supply)</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/implementation/circuit/power-supply.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="power-implementation-48v-central-supply">
<h1>Power Implementation (48V Central Supply)<a class="headerlink" href="#power-implementation-48v-central-supply" title="Link to this heading"></a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading"></a></h2>
<p>The Ma Bell Gateway system is powered by a single 48V/60W DC supply, with all required operating voltages generated by a combination of DC-DC converters and a ring generator circuit.</p>
<p>Key voltage rails and their uses:</p>
<ul class="simple">
<li><p><strong>-48V</strong> for the subscriber loop (on-hook voltage)</p></li>
<li><p><strong>12V</strong> for SLIC (HC3-5504B-5) chip primary power</p></li>
<li><p><strong>5V or 3.3V</strong> for the ESP32 microcontroller and logic</p></li>
<li><p><strong>90V AC, 20Hz</strong> for authentic telephone ringer operation</p></li>
</ul>
</section>
<section id="power-architecture">
<h2>Power Architecture<a class="headerlink" href="#power-architecture" title="Link to this heading"></a></h2>
<p>#.. figure:: /_static/power-architecture.png
#   :alt: Power supply block diagram
#   :align: center</p>
<blockquote>
<div><p><em>(Placeholder: insert PNG/SVG block diagram here)</em></p>
</div></blockquote>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>   <span class="o">+----------------+</span>
   <span class="o">|</span> <span class="mi">48</span><span class="n">V</span> <span class="n">DC</span> <span class="n">Supply</span>  <span class="o">|</span>
   <span class="o">+-------+--------+</span>
           <span class="o">|</span>
   <span class="o">+-------+--------+-------------------+-------------------+</span>
   <span class="o">|</span>       <span class="o">|</span>        <span class="o">|</span>                   <span class="o">|</span>                   <span class="o">|</span>
   <span class="n">v</span>       <span class="n">v</span>        <span class="n">v</span>                   <span class="n">v</span>                   <span class="n">v</span>
<span class="p">[</span><span class="mi">12</span><span class="n">V</span> <span class="n">Buck</span><span class="p">][</span><span class="mi">5</span><span class="n">V</span> <span class="n">Buck</span><span class="p">][</span><span class="n">Inverting</span> <span class="n">DC</span><span class="o">-</span><span class="n">DC</span><span class="p">][</span><span class="n">Ring</span> <span class="n">Generator</span><span class="p">]</span>    <span class="p">(</span><span class="n">Future</span> <span class="n">Option</span><span class="p">)</span>
   <span class="o">|</span>        <span class="o">|</span>            <span class="o">|</span>                  <span class="o">|</span>
   <span class="n">v</span>        <span class="n">v</span>            <span class="n">v</span>                  <span class="n">v</span>
<span class="n">SLIC</span> <span class="n">VCC</span>  <span class="n">ESP32</span><span class="o">/</span><span class="n">Logic</span>  <span class="n">SLIC</span> <span class="n">Tip</span><span class="o">/</span><span class="n">Ring</span>      <span class="n">Ringer</span>
</pre></div>
</div>
</section>
<section id="step-by-step-power-flow">
<h2>Step-by-Step Power Flow<a class="headerlink" href="#step-by-step-power-flow" title="Link to this heading"></a></h2>
<ol class="arabic simple">
<li><p><strong>48V Supply as Master Power</strong></p>
<ul class="simple">
<li><p>The central 48V/60W power brick is the main power source.</p></li>
<li><p>All subsequent rails are derived from this supply.</p></li>
</ul>
</li>
<li><p><strong>-48V for On-Hook Loop</strong></p>
<ul class="simple">
<li><p>An <em>inverting DC-DC converter</em> generates a stable -48V rail referenced to ground.</p></li>
<li><p>Supplies the SLIC’s tip/ring pair for line voltage during on-hook state.</p></li>
</ul>
</li>
<li><p><strong>12V for SLIC Primary Power</strong></p>
<ul class="simple">
<li><p>A <em>DC-DC buck converter</em> steps 48V down to 12V.</p></li>
<li><p>Powers the VCC/VDD pins on the HC3-5504B-5 for analog functions.</p></li>
</ul>
</li>
<li><p><strong>5V or 3.3V for ESP32 &amp; Logic</strong></p>
<ul class="simple">
<li><p>Another <em>buck converter</em> (or LDO after pre-drop) steps down 48V to 5V or 3.3V.</p></li>
<li><p>Feeds the ESP32 dev board and any digital logic.</p></li>
</ul>
</li>
<li><p><strong>90V AC, 20Hz for Ringer</strong></p>
<ul class="simple">
<li><p>The 48V supply feeds a <em>ring generator module</em> that creates a 90V AC, 20Hz waveform.</p></li>
<li><p>Used for authentic operation of electromechanical ringers.</p></li>
</ul>
</li>
</ol>
</section>
<section id="power-rail-table">
<h2>Power Rail Table<a class="headerlink" href="#power-rail-table" title="Link to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Rail</p></th>
<th class="head"><p>Voltage</p></th>
<th class="head"><p>Supplies</p></th>
<th class="head"><p>How Created</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Vbat</p></td>
<td><p>+48V DC</p></td>
<td><p>All conversions</p></td>
<td><p>Main supply (60W)</p></td>
</tr>
<tr class="row-odd"><td><p>SLIC Loop</p></td>
<td><p>-48V DC</p></td>
<td><p>SLIC (Tip/Ring)</p></td>
<td><p>Inverting DC-DC from 48V</p></td>
</tr>
<tr class="row-even"><td><p>SLIC Power</p></td>
<td><p>+12V DC</p></td>
<td><p>SLIC (VCC)</p></td>
<td><p>Buck converter from 48V</p></td>
</tr>
<tr class="row-odd"><td><p>Logic</p></td>
<td><p>+5V / 3.3V</p></td>
<td><p>ESP32, logic</p></td>
<td><p>Buck from 48V</p></td>
</tr>
<tr class="row-even"><td><p>Ring AC</p></td>
<td><p>90V AC, 20Hz</p></td>
<td><p>Ringer circuit</p></td>
<td><p>Ring gen. from 48V</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Illuminated Dial Power: Separate 9V AC Supply</strong></p>
<p>The 9V AC required for the phone’s illuminated dial is not derived from the main power system. Instead, a separate 9V AC wall transformer is used, with its output fed directly to the black and yellow wires of the phone. This mirrors the original Bell System approach, where illumination was powered independently from the telephone line circuitry.</p>
</div>
</section>
<section id="component-notes">
<h2>Component Notes<a class="headerlink" href="#component-notes" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p><strong>Buck converters:</strong> Compact DC-DC modules (e.g., LM2596, MP1584) are recommended. Available as ready-to-use boards.</p></li>
<li><p><strong>Inverting DC-DC:</strong> Use telecom-grade inverting modules or custom flyback circuits to generate -48V from +48V.</p></li>
<li><p><strong>Ring generator:</strong> Options include:</p>
<ul>
<li><p>Off-the-shelf telecom ring generator modules</p></li>
<li><p>Microcontroller-controlled boost + H-bridge (sine wave oscillator)</p></li>
<li><p>Classic 555 timer + transformer circuit for 90V AC</p></li>
</ul>
</li>
</ul>
</section>
<section id="design-considerations">
<h2>Design Considerations<a class="headerlink" href="#design-considerations" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>The SLIC’s -48V is used <em>only</em> for line signaling on tip/ring, <strong>not for chip logic</strong>.</p></li>
<li><p>All low-voltage logic (ESP32, digital control) shares a common ground with the SLIC and power supply, ensuring safe logic-level interfacing.</p></li>
<li><p>The SLIC chip safely handles the interface between high-voltage line loop signals and your low-voltage control logic. Its output pins for status (such as off-hook detect or ring sense) are referenced to the same ground as your ESP32, so <strong>no additional optocoupler isolation is required</strong> between the SLIC and your microcontroller.</p></li>
<li><p>The ring generator and DC-DC converters must be sized to meet the maximum expected load (60W should be ample for most single-line systems).</p></li>
<li><p>For prototyping, use standard DC-DC modules; for production, design custom PCB layouts for compact integration.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Why Avoid the Telco’s “Flip-the-Ground” -48V For Line Loop</strong></p>
<p>Classic telephone systems often created -48V for the line loop by tying the positive terminal of the 48V supply to system ground,
making the negative terminal act as “-48V.” While simple and authentic, this approach “floats” the project ground 48V above earth ground.</p>
<p>For this Ma Bell Gateway implementation, we use an inverting DC-DC converter to generate a true -48V relative to ground.
This ensures all project circuits—including the SLIC, ESP32, and logic—reference true earth ground, keeping development and testing safe.</p>
<p>If you use the classic telco trick and connect any test gear (oscilloscope, logic analyzer, USB device) referenced to earth ground,
you risk creating a dangerous short circuit and damaging equipment. The inverting DC-DC approach keeps all bench measurements
and expansion safe and reliable.</p>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="pin-assignments.html" class="btn btn-neutral float-left" title="ESP32 Pin Assignments" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../firmware/index.html" class="btn btn-neutral float-right" title="Firmware" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Chris Deever.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>